# Strategy metadata
strategy_name: dev_scalper_1m
version: v1
strategy_timeframe: ultra_short_term
description: "Aggressive 1m scalping model for dev/testing - high frequency trades"

# Data configuration
data:
  source_file: "merged_binance_BTC_USDT_perps_1m_20251116_014156.parquet"
  resample_interval: null  # Keep native 1m resolution
  train_start: "2024-11-16"
  train_end: "2025-08-15"
  validation_start: "2025-08-16"
  validation_end: "2025-11-15"

# Feature configuration - short-term scalping indicators
features:
  indicators:
    # Ultra-short EMAs for 1m scalping
    - name: ema_5
      type: EMA
      params: {window: 5}
    - name: ema_10
      type: EMA
      params: {window: 10}
    - name: ema_20
      type: EMA
      params: {window: 20}
    - name: ema_50
      type: EMA
      params: {window: 50}

    # Short-term momentum
    - name: rsi_7
      type: RSI
      params: {window: 7}
    - name: macd
      type: MACD
      params: {fast: 8, slow: 17, signal: 9}  # Faster MACD for 1m
    - name: roc_3
      type: ROC
      params: {window: 3}
    - name: roc_10
      type: ROC
      params: {window: 10}

    # Volatility
    - name: bollinger
      type: BollingerBands
      params: {window: 15, num_std: 2}
    - name: atr_10
      type: ATR
      params: {window: 10}

    # Volume
    - name: volume_ma_15
      type: VolumeMA
      params: {window: 15}

# Target - Binary classification (Phase 10 improvement)
# No neutral class = model MUST choose long or short = aggressive trading
target:
  type: classification
  classes: 2  # Binary: long/short only (no neutral!)
  lookahead_bars: 3  # 3 minutes ahead
  threshold_pct: 0.2  # Very low threshold for aggressive trading
  confidence_threshold: 0.5  # Only trade when >50% confident (Phase 10)

# Model - LightGBM binary classifier (Phase 10)
model:
  type: lightgbm
  params:
    objective: "binary"  # Binary classification (long/short)
    max_depth: 5  # Slightly shallower for faster inference
    learning_rate: 0.05
    n_estimators: 200  # Fewer trees for speed
    num_leaves: 31
    subsample: 0.8
    colsample_bytree: 0.8
    min_child_samples: 20
    random_state: 42
    verbose: -1

# Validation - walk-forward for robust performance estimation
validation:
  method: walk_forward  # walk_forward or single_split
  n_splits: 4           # Number of splits for walk-forward
  expanding_window: true  # Expanding window (vs sliding)
  gap_bars: 0           # Gap between train/val splits

# Backtest
backtest:
  transaction_cost_pct: 0.04
  slippage_bps: 2
  leverage: 3
  capital: 10000

# Risk
risk:
  max_position_size_pct: 100
  stop_loss_pct: 1.0  # Tighter stops for 1m
  take_profit_pct: 1.5  # Tighter targets for 1m
