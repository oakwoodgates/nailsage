# Strategy metadata
strategy_name: sol_scalper_15m
version: v2
strategy_timeframe: short_term
description: "Improved 15m scalping model for SOL - balanced aggression with quality signals"

# Data configuration
data:
  source_file: "merged_binance_SOL_USDT_perps_15m_20251130_214441.parquet"
  resample_interval: null  # Keep native 15m resolution
  train_start: "2024-11-30"
  train_end: "2025-08-31"
  validation_start: "2025-09-01"
  validation_end: "2025-11-29"

# Feature configuration - enhanced indicators for better signal quality
features:
  indicators:
    # Fast EMAs for 15m scalping
    - name: ema_8
      type: EMA
      params: {window: 8}
    - name: ema_13
      type: EMA
      params: {window: 13}
    - name: ema_21
      type: EMA
      params: {window: 21}
    - name: ema_55
      type: EMA
      params: {window: 55}

    # Short-term momentum
    - name: rsi_9
      type: RSI
      params: {window: 9}
    - name: rsi_14
      type: RSI
      params: {window: 14}  # Additional RSI for confirmation
    - name: macd
      type: MACD
      params: {fast: 12, slow: 26, signal: 9}  # Standard MACD
    - name: roc_5
      type: ROC
      params: {window: 5}
    - name: roc_14
      type: ROC
      params: {window: 14}

    # Volatility
    - name: bollinger
      type: BollingerBands
      params: {window: 20, num_std: 2}
    - name: atr_14
      type: ATR
      params: {window: 14}

    # Volume
    - name: volume_ma_20
      type: VolumeMA
      params: {window: 20}

# Target - Binary classification with higher quality threshold
target:
  type: classification
  classes: 2  # Binary: long/short only (aggressive trading)
  lookahead_bars: 6  # 1.5 hours ahead (6 Ã— 15m) - longer horizon for clearer signals
  threshold_pct: 0.35  # Higher threshold for better signal quality (was 0.15)
  confidence_threshold: 0.60  # Much higher confidence requirement (was 0.45)

# Model - LightGBM binary classifier with more capacity
model:
  type: lightgbm
  params:
    objective: "binary"
    max_depth: 6  # Slightly deeper for more complex patterns
    learning_rate: 0.03  # Lower learning rate for better generalization
    n_estimators: 300  # More trees for better learning
    num_leaves: 31
    subsample: 0.8
    colsample_bytree: 0.8
    min_child_samples: 30  # Higher to prevent overfitting
    random_state: 42
    verbose: -1

# Validation - walk-forward for robust performance estimation
validation:
  method: walk_forward
  n_splits: 4
  expanding_window: true
  gap_bars: 0

# Backtest
backtest:
  transaction_cost_pct: 0.04
  slippage_bps: 3
  leverage: 2  # Reduced leverage for risk management (was 4)
  capital: 10000

# Risk
risk:
  max_position_size_pct: 100
  stop_loss_pct: 2.0  # Wider stops (was 1.5)
  take_profit_pct: 3.0  # Wider targets (was 2.0)
